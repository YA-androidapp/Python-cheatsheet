### pathlib でのファイル操作

```py
from pathlib import Path
```

| 項目                 | 関数            | 値                                                             |
| -------------------- | --------------- | -------------------------------------------------------------- |
| カレントディレクトリ | `Path().cwd()`  | `WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet')` |
| ホームディレクトリ   | `Path().home()` | `WindowsPath('C:/Users/y')`                                    |

```py
from pathlib import Path

p = Path() # カレントディレクトリ
```

| 項目                   | 関数                              | 値                                                             |
| ---------------------- | --------------------------------- | -------------------------------------------------------------- |
| 相対パス               | `p`                               | `WindowsPath('.')`                                             |
| 絶対パス               | `p.resolve()` <br> `p.absolute()` | `WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet')` |
| パスが絶対パスかどうか | `p.is_absolute()`                 | `False`                                                        |

```py
from pathlib import Path

filepath = ('./test-pathlib/test.txt')
p = Path(filepath) # ファイルのPathオブジェクト
```

| 項目                             | 関数                                       | 値                                                                                                                                                                                                                                                                                                   |
| -------------------------------- | ------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 相対パス                         | `p`                                        | `WindowsPath('test-pathlib/test.txt')`                                                                                                                                                                                                                                                               |
| 絶対パス                         | `p.resolve()` <br>or<br> `p.absolute()`    | `WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet/test-pathlib/test.txt')`                                                                                                                                                                                                                 |
| パスが絶対パスかどうか           | `p.is_absolute()`                          | `False`                                                                                                                                                                                                                                                                                              |
| スラッシュ区切りのパス           | `Path('c:\\windows').resolve().as_posix()` | `'C:/Windows'`                                                                                                                                                                                                                                                                                       |
| file URI                         | `p.resolve().as_uri()`                     | `'file:///C:/Users/y/Documents/GitHub/Python-cheatsheet/test-pathlib/test.txt'`                                                                                                                                                                                                                      |
| ドライブ文字                     | `p.resolve().drive`                        | `'C:'`                                                                                                                                                                                                                                                                                               |
| ルート                           | `p.resolve().root`                         | `\\`                                                                                                                                                                                                                                                                                                 |
| アンカー（ドライブ文字＋ルート） | `p.resolve().anchor`                       | `C:\\`                                                                                                                                                                                                                                                                                               |
| 上位パスを辿る                   | `p.resolve().parents`                      | `<WindowsPath.parents>`                                                                                                                                                                                                                                                                              |
|                                  | `[i for i in p.resolve().parents]`         | `[WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet/test-pathlib'), WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet'), WindowsPath('C:/Users/y/Documents/GitHub'), WindowsPath('C:/Users/y/Documents'), WindowsPath('C:/Users/y'), WindowsPath('C:/Users'), WindowsPath('C:/')]` |
| 上位パス                         | `p.resolve().parent`                       | `WindowsPath('C:/Users/y/Documents/GitHub/Python-cheatsheet/test-pathlib')`                                                                                                                                                                                                                          |
|                                  | `Path('/').parent`                         | `WindowsPath('/')` 親ディレクトリが存在しない場合                                                                                                                                                                                                                                                    |
|                                  | `Path('.').parent`                         | `WindowsPath('.')` 空のパス                                                                                                                                                                                                                                                                          |
|                                  | `Path('.').resolve().parent`               | `WindowsPath('C:/Users/y/Documents/GitHub')`                                                                                                                                                                                                                                                         |
| ファイル名（basename）           | `p.resolve().name`                         | `'test.txt'`                                                                                                                                                                                                                                                                                         |
| 拡張子                           | `p.resolve().suffix`                       | `'.txt'`                                                                                                                                                                                                                                                                                             |
|                                  | `Path('test.tar.gz').resolve().suffix`     | `'.gz'`                                                                                                                                                                                                                                                                                              |
| 拡張子のリスト                   | `p.resolve().suffixes`                     | `['.txt']`                                                                                                                                                                                                                                                                                           |
|                                  | `Path('test.tar.gz').resolve().suffixes`   | `['.tar', '.gz']`                                                                                                                                                                                                                                                                                    |
| ファイル名から拡張子を除いたもの | `p.resolve().stem`                         | `'test'`                                                                                                                                                                                                                                                                                             |
|                                  | `aaa`                                      | `aaa`                                                                                                                                                                                                                                                                                                |
|                                  | `aaa`                                      | `aaa`                                                                                                                                                                                                                                                                                                |
|                                  | `aaa`                                      | `aaa`                                                                                                                                                                                                                                                                                                |
